<!DOCTYPE html>
<html>
<body style="text-align:center;font-family:sans-serif">
  <h1 id="type"></h1>
  <h2 id="text"></h2>
  <h2 id="cert">Сертицировано ООО "ДРУЖНЫЙ БЕЛЫЙ КОТ" ИНН 5406305323</h2>
  <div id="creator">
    <form id="creator_form">
      <input type="text" id="name" name="name" required minlength="1" maxlength="20" />
      <fieldset>
        <legend>Тип:</legend>
        <select id="type_select" name="type_select">
          <option id="general" value="general" selected required>Обычный</option>
          <br>
          <option id="doc" value="doc" required>Деловой печатный документ</option>
        </select>
      </fieldset>
      <button id="create_btn" form>Создать</button>
    </form>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3"></script>
  <script>
  const urlParams = new URLSearchParams(window.location.search);
  const name = urlParams.get('n');
  const type = urlParams.get('t');
  console.log(name,type);
  const type_text = document.getElementById("type");
  const text_text = document.getElementById("text");
  const cert_text = document.getElementById("cert");
  const creator_form = document.getElementById("creator_form");
  const create_btn = document.getElementById("create_btn");
  create_btn.addEventListener("click", e => {
    if (!creator_form.reportValidity()) return;
    console.log(creator_form.elements["name"], creator_form.elements["type_select"].selectedIndex);
  })
  switch(type) {
    case '0':
      type_text.innerText = "Сертификот";
      text_text.innerText = `Объект ${name} утверждён`;
      break
    case '1':
      type_text.innerText = "Сертификот";
      text_text.innerText = `Объект ${name} утверждён как "Деловой печатный документ"`;
      break
    default:
      type_text.innerText = "Ошибка";
      cert_text.innerText = "";
      break
  }
  </script>
</body>
</html>
